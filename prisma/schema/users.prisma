enum user_role {
    admin
    participant
    asesor
    mentor
    fasilitator
}

enum gender {
    male
    female
    unknown
}

enum classification {
    go_online
    go_digital
    go_modern
    go_global
}

model users {
    id          String    @id @unique @default(uuid())
    name        String    @db.VarChar(100)
    email       String    @unique @db.VarChar(100)
    role        user_role @default(participant)
    gender      gender    @default(unknown)
    profile     String?   @db.Text
    is_verified Boolean   @default(false)
    is_active   Boolean   @default(true)
    password    String

    created_at DateTime @default(now())
    updated_at DateTime @updatedAt

    user_tokens             user_tokens[]
    assesor_profile         assesor_profile?
    participant_profile     participant_profile?      @relation("ParticipantUser")
    mentored_participants   participant_profile[]     @relation("ParticipantMentor")
    courses                 courses[]
    coaching_sessions       coaching_session[]
    coaching_presences      coaching_presence[]
    business_profile        business_profile?
    course_item_submissions course_item_submissions[]
    survey_responses        survey_responses[]
    survey_reponse_item     survey_reponse_item[]
}

enum business_phase {
    onboarding
    active
    scale_up
}

model business_developments {
    id String @id @unique @default(uuid())

    business_id String
    business    business_profile @relation(fields: [business_id], references: [id])

    date      DateTime
    phase     business_phase
    employees Int
    revenue   Decimal        @db.Decimal(15, 2)
    capacity  Decimal        @db.Decimal(15, 2)

    business_permits       Json? @default("[]")
    social_media_marketing Json? @default("[]")

    is_legalized          Boolean @default(false)
    has_financial_records Boolean @default(false)

    created_at DateTime @default(now())
    updated_at DateTime @updatedAt
}

model user_tokens {
    id          String   @id @unique @default(uuid())
    last_logged DateTime
    expired     DateTime

    user_id String
    user    users  @relation(fields: [user_id], references: [id])
}
